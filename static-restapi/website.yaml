apiVersion: 1

envs:
  dev:
    namespace: static-restapi-dev
  prod:
    namespace: static-restapi-prod

# List of components
components:
  # Controller API - useful for webhooks
  - context: /_controller/api/
    kind: service
    spec:
      serviceName: core-controller
      targetPort: 8080

  # REST API
  - context: /api1/
    kind: service
    spec:
      serviceName: restapi1
      targetPort: 8080
  - context: /api2/
    kind: service
    spec:
      serviceName: restapi2
      targetPort: 8080
      envs:
        dev:          # shows that api2 is just in dev env.

  # Common Theme
  - context: /theme/
    kind: git
    spec:
      url: https://github.com/OpenHybridWeb/example-component-theme.git

  # Homepage
  # Minimalistic definition. Defaults applied. See above
  - context: /
    kind: git
    spec:
      url: https://github.com/OpenHybridWeb/example-component-homepage.git
