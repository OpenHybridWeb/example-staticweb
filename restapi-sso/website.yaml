apiVersion: 1

envs:
  - name: dev
    namespace: restapi-sso-dev
  - name: prod
    namespace: restapi-sso-prod

# List of components
components:

  # REST API
  - context: /api/
    kind: service
    spec:
      url: http://restapi:8080
      targetContext: /hola/

  # SSO
  - context: /auth/
    kind: service
    spec:
      url: http://keycloak:8080

  # Controller API - useful for webhooks
  - context: /_controller/api/
    kind: service
    spec:
      url: http://core-controller:8080
